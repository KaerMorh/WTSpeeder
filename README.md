这是一个基于 Python 开发的**《战争雷霆》（War Thunder）战局辅助工具**，专注于为空战历史（Air RB）玩家提供实时的**友军存活数量统计**。

该工具不依赖任何注入手段，完全合规地通过游戏官方提供的本地 Web 接口（`127.0.0.1:8111`）获取数据，并以**透明悬浮窗**的形式显示在游戏画面之上。它是为了替代 WTRTI 无法直接读取地图对象数量而开发的轻量级解决方案。

---

### 🛠️ 项目功能列表

#### 1. 核心功能 (Core Features)
*   **实时友军统计**：通过轮询游戏本地 API，实时计算当前地图上存活的友军飞机数量（包括蓝色队友和绿色小队成员）。
*   **自动排除干扰**：算法自动过滤掉玩家自己、地面单位（AI防空炮、车辆）以及非活跃的飞机对象，确保数据准确反映“有效空战力量”。
*   **智能状态显示**：当游戏未运行或未进入战局时，显示 "?" 或 "Wait..."，进入战局后自动显示数字。 TODO:存疑

#### 2. 视觉与交互 (Visuals & UX)
*   **无边框透明悬浮窗**：采用 Tkinter 实现背景全透明（透视）效果，只显示数字和拖拽手柄，不遮挡游戏视野。
*   **拖拽式布局**：
    *   左侧设计了一个**隐形/空心圆形手柄**（视觉上是透明的，但可以点击）。
    *   按住圆圈或数字即可随意拖动悬浮窗位置。
*   **位置记忆**：程序会自动记录用户上次拖拽停留的坐标，下次启动自动复位（配置文件存储在 `%APPDATA%`）。
*   **置顶显示**：始终保持在游戏窗口最上层（支持“全屏窗口”或“窗口化”模式）。

#### 3. 个性化设置 (Customization)
提供了完整的图形化设置面板（右键 -> 设置），支持即时预览：
*   **自定义文本前缀**：可自由修改显示的文字（如 `Friends: ` 或 `队友: `），也可以留空只显示数字。
*   **字体大小调节**：支持 10px - 60px 的无级调节。
*   **颜色自定义**：
    *   支持 Hex 十六进制颜色代码输入（如 `#FF0000`）。
    *   内置调色盘拾色器。
    *   设置面板带有颜色实时预览块。
*   **刷新频率调节**：可调整数据读取间隔（0.1秒 - 2.0秒），平衡实时性与性能。
*   **一键恢复默认**：设置乱了可以一键重置（保留窗口位置，仅重置样式参数），且不会强制关闭设置窗口。

#### 4. 系统集成 (System Integration)
*   **系统托盘图标**：程序运行时在任务栏右下角显示绿色圆点图标。
*   **双重控制菜单**：
    *   **悬浮窗右键菜单**：支持快速进入设置、隐藏窗口、退出程序。
    *   **托盘右键菜单**：支持显示/隐藏、重置位置（防丢失）、退出程序。
*   **规范化存储**：配置文件严格遵循 Windows 规范，保存在 `%APPDATA%\WTFriendCounter\config.json`，避免权限问题。

#### 5. 安全性与性能 TODO:存疑
*   **无注入 (External)**：不读取游戏内存，不注入 DLL，仅进行 HTTP GET 请求，理论上不会触发 Easy Anti-Cheat (EAC)。
*   **轻量化**：基于 Python 标准库 + Tkinter 开发，占用系统资源极低。 

